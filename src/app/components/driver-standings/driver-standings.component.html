<section>
@defer (when loaded()) {
  <div class="select-menu">
    <button (click)="openMenu = 'driver-standing'"
      [style.backgroundImage]="'url(/assets/images/backgrounds/button-bg-1.jpg)'">DRIVERS</button>
    <button (click)="openMenu = 'constructor-standing'"
      [style.backgroundImage]="'url(/assets/images/backgrounds/button-bg-2.png)'">CONSTRUCTOR</button>
  </div>

  <div class="standing-cards">
    @switch (openMenu) {
    @case ('constructor-standing') {
    <div class="fade-wrapper" @fadeSlide>
      @for (team of (constructors$ | async); track $index) {
      <div class="constructor-cards"
        [style.background]=" 'linear-gradient(to right,' + team.teamColor + ', transparent)'">
        <div class="team-constructor-name">
          <div class="team-logo"><img [src]="team.logoPath"></div>
          <div class="hyphen"></div>
          <div class="first-name">{{team.team}}</div>
        </div>
        <div class="car-container">
          <img src="" alt="">
        </div>
        <div class="constructor-position-points">
          <div class="points-wrapper">

            <div class="position">#{{$index + 1}}</div>
            <div class="constructor-points">{{team.points}} pts</div>
          </div>

        </div>
      </div>
      }
    </div>

    } @case ('driver-standing') {
    <div class="fade-wrapper" @fadeSlide>
      @for (driver of (drivers$ | async); track $index) {
      <div class="driver-cards" [style.background]=" 'linear-gradient(to right,' + driver.teamColor + ', transparent)'">
        <div class="team-driver-name">
          <div class="team-logo"><img [src]="driver.logoPath"></div>
          <div class="hyphen"></div>
          <div class="driver-name">
            <div class="first-name">{{driver.driverName}}</div>
          </div>
        </div>
        <div class="position-points">
          <div class="points-wrapper">
            <div class="position">#{{$index + 1}}</div>
            <div class="driver-points">{{driver.points}} pts</div>
          </div>
          <div class="driver-image-container">
            <img class="driver" [src]="driver.driverImagePath">
          </div>
        </div>
      </div>
      }
    </div>
    }
    @default {
    <div class="fade-wrapper" @fadeSlide>
      @for (driver of (drivers$ | async); track $index) {
      <div class="driver-cards" [style.background]=" 'linear-gradient(to right,' + driver.teamColor + ', transparent)'">
        <div class="team-driver-name">
          <div class="team-logo"><img [src]="driver.logoPath"></div>
          <div class="hyphen"></div>
          <div class="driver-name">
            <div class="first-name">{{driver.driverName}}</div>
          </div>
        </div>
        <div class="position-points">
          <div class="points-wrapper">
            <div class="position">#{{$index + 1}}</div>
            <div class="driver-points">{{driver.points}} pts</div>
          </div>
          <div class="driver-image-container">
            <img class="driver" [src]="driver.driverImagePath">
          </div>
        </div>
      </div>
      }
    </div>
    }
    }
  </div>

}

@placeholder {
  <div class="f1-loading">
    <img src="/assets/images/spinners/spinner1.gif" alt="F1 Logo" class="spin-logo">
  </div>
}

</section>